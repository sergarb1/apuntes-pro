<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solucionario Maestro Total 25/26 | Dinámica 4º ESO</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Space+Grotesk:wght@300;500;700;900&display=swap" rel="stylesheet">
    
    <!-- PRODUCTION CDNs -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: { 
                inlineMath: [['$', '$'], ['\\(', '\\)']], 
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                packages: {'[+]': ['ams', 'unit']}
            },
            options: { 
                enableMenu: false,
                renderActions: {
                    addMenu: []
                }
            },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    colors: {
                        bg: '#050508',
                        'accent-green': '#50fa7b',
                        'accent-pink': '#ff79c6',
                        'accent-blue': '#8be9fd',
                        'accent-yellow': '#f1fa8c',
                        'accent-purple': '#bd93f9',
                        text: '#f8f8f2',
                        'text-dim': '#6272a4',
                    }
                }
            }
        }
    </script>

    <style>
        [v-cloak] { display: none; }
        body {
            background-color: #050508;
            color: #f8f8f2;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(80, 250, 123, 0.05) 0%, transparent 25%),
                radial-gradient(circle at 90% 80%, rgba(139, 233, 253, 0.05) 0%, transparent 25%);
            background-attachment: fixed;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.01);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }
        .solution-anim-enter-active, .solution-anim-leave-active {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 5000px;
            opacity: 1;
        }
        .solution-anim-enter-from, .solution-anim-leave-to {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .step-bubble {
            background: linear-gradient(135deg, rgba(139, 233, 253, 0.1), rgba(189, 147, 249, 0.1));
            border: 1px solid rgba(139, 233, 253, 0.2);
        }
        .explanation-text strong { color: #50fa7b; }
        .explanation-text code { color: #8be9fd; background: rgba(139, 233, 253, 0.1); padding: 0.1rem 0.3rem; border-radius: 0.25rem; }
    </style>
</head>
<body class="p-4 md:p-10 min-h-screen">

    <div id="app" class="max-w-4xl mx-auto" v-cloak>
        <!-- HEADER -->
        <header class="text-center mb-16 glass-card p-12 rounded-[48px] border-b-4 border-accent-blue/20">
            <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-accent-yellow/10 border border-accent-yellow/30 text-accent-yellow text-xs font-black tracking-widest mb-6 uppercase">
                <i data-lucide="shield-check" class="w-4 h-4"></i>
                Guía de Resolución Maestra: 28 Ejercicios
            </div>
            <h1 class="font-display text-5xl md:text-7xl font-black text-white mb-6 tracking-tighter">
                Dinámica <span class="text-accent-blue">Pro</span>
            </h1>
            <p class="text-text-dim text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed">
                Auditoría detallada con el <strong>Método Feynman</strong>. Cada paso explica no solo el cálculo, sino la intuición física detrás del fenómeno.
            </p>
        </header>

        <!-- EXERCISES -->
        <div class="space-y-12">
            <template v-for="(ex, index) in exercises" :key="index">
                
                <!-- Section Separator -->
                <div v-if="ex.isSeparator" class="py-12 text-center">
                    <h2 class="font-display font-black text-4xl md:text-5xl text-transparent bg-clip-text bg-gradient-to-r from-accent-pink via-accent-purple to-accent-blue uppercase tracking-tighter italic">
                        {{ ex.title }}
                    </h2>
                    <div class="h-1.5 w-32 bg-gradient-to-r from-accent-pink to-accent-blue mx-auto mt-6 rounded-full"></div>
                </div>

                <!-- Exercise Card -->
                <div v-else class="glass-card rounded-[40px] overflow-hidden">
                    <div class="p-8 md:p-12">
                        <!-- Header -->
                        <div class="flex items-center gap-6 mb-8">
                            <div class="w-16 h-16 shrink-0 rounded-2xl bg-accent-purple/10 border border-accent-purple/20 flex items-center justify-center text-accent-purple">
                                <i :data-lucide="ex.icon" class="w-8 h-8"></i>
                            </div>
                            <div>
                                <div class="text-accent-pink text-[10px] font-black tracking-[0.4em] uppercase mb-1">Ejercicio {{ ex.number }}</div>
                                <h3 class="text-2xl md:text-3xl font-display font-bold text-white tracking-tight leading-tight">{{ ex.title }}</h3>
                            </div>
                        </div>

                        <!-- Statement -->
                        <div class="bg-white/5 p-8 rounded-3xl border border-white/5 text-gray-200 text-lg leading-relaxed mb-10 font-light" v-html="ex.statement"></div>

                        <!-- Toggle -->
                        <button @click="toggle(ex)" 
                            class="w-full flex items-center justify-center gap-3 bg-white text-black font-display font-black uppercase tracking-widest text-xs py-5 rounded-2xl hover:bg-accent-green hover:text-black transition-all shadow-xl shadow-white/5">
                            <i :data-lucide="ex.isOpen ? 'eye-off' : 'eye'" class="w-4 h-4"></i>
                            {{ ex.isOpen ? 'Ocultar Resolución' : 'Ver Resolución Detallada' }}
                        </button>

                        <!-- Content -->
                        <transition name="solution-anim" @after-enter="refreshMath">
                            <div v-show="ex.isOpen" class="mt-12 space-y-12 border-t border-white/10 pt-12">
                                
                                <!-- Logic Box -->
                                <div class="bg-accent-blue/5 border border-accent-blue/20 p-8 rounded-[32px] flex gap-6">
                                    <div class="w-12 h-12 shrink-0 rounded-full bg-accent-blue/20 flex items-center justify-center text-accent-blue">
                                        <i data-lucide="brain-circuit" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-accent-blue font-display font-black uppercase text-[10px] tracking-widest mb-2">Intuición Física</h4>
                                        <p class="text-gray-300 italic text-lg leading-relaxed" v-html="ex.logic"></p>
                                    </div>
                                </div>

                                <!-- Steps -->
                                <div class="space-y-10">
                                    <div v-for="(step, sIndex) in ex.steps" :key="sIndex" class="flex gap-6">
                                        <div class="w-10 h-10 shrink-0 rounded-xl step-bubble flex items-center justify-center text-accent-pink font-black text-sm">
                                            {{ sIndex + 1 }}
                                        </div>
                                        <div class="flex-1">
                                            <h5 class="text-white font-display font-bold text-lg mb-3">{{ step.title }}</h5>
                                            <div class="text-gray-400 text-lg leading-relaxed explanation-text" v-html="step.content"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Result Box -->
                                <div class="bg-accent-green text-black p-10 rounded-[40px] text-center relative overflow-hidden shadow-2xl shadow-accent-green/10">
                                    <div class="absolute top-0 right-0 p-4 opacity-10">
                                        <i data-lucide="check-circle" class="w-20 h-20"></i>
                                    </div>
                                    <span class="text-[10px] font-black uppercase tracking-[0.4em] opacity-60 mb-2 block font-display">Conclusión Matemática</span>
                                    <div class="text-3xl md:text-5xl font-display font-black tracking-tighter" v-html="ex.result"></div>
                                </div>
                            </div>
                        </transition>
                    </div>
                </div>
            </template>
        </div>

        <footer class="mt-32 pb-20 text-center text-text-dim border-t border-white/5 pt-16">
            <p class="font-display font-black uppercase tracking-widest text-xs mb-6">Física 4º ESO • Proyecto Educativo 25/26</p>
        </footer>
    </div>

    <script>
        const { createApp, ref, nextTick } = Vue;

        createApp({
            setup() {
                const exercises = ref([
                    { isSeparator: true, title: "BLOQUE I: Fundamentos y Hoja Principal" },
                    {
                        number: "I.1", icon: "brain", title: "Teoría: Las Tres Leyes de Newton",
                        statement: "Razona la veracidad o falsedad de estas afirmaciones:<br>A) Si la fuerza resultante es cero, no hay fuerzas.<br>B) Un cuerpo puede moverse en dirección opuesta a la fuerza.<br>C) Girar requiere una fuerza neta.<br>D) Sin fuerza neta, el cuerpo se detiene poco a poco.",
                        logic: "Imagina que eres un astronauta en el vacío. Las leyes de Newton son las reglas del juego del universo. La clave es separar <strong>estado (velocidad)</strong> de <strong>cambio (aceleración)</strong>.",
                        steps: [
                            { title: "A) FALSO: El equilibrio invisible", content: "Resultante cero significa <strong>equilibrio</strong>. <strong>Consejo:</strong> Piensa en un tira y afloja donde ambos equipos tiran con la misma fuerza; las cuerdas están en tensión (fuerzas presentes) pero el pañuelo no se mueve." },
                            { title: "B) VERDADERO: El efecto 'freno'", content: "La fuerza causa aceleración, no posición inmediata. <strong>Truco:</strong> Imagina que vas corriendo y alguien te empuja hacia atrás. Sigues moviéndote hacia delante un rato mientras frenas. Tu velocidad y la fuerza van en direcciones opuestas." },
                            { title: "C) VERDADERO: La tiranía del giro", content: "Para girar, debes cambiar la dirección de tu velocidad. Cambiar dirección es <strong>acelerar</strong>. Por tanto, siempre que algo gire, hay una fuerza 'tirando' hacia el centro (centrípeta)." },
                            { title: "D) FALSO: La inercia es perezosa", content: "Sin fuerzas, el cuerpo mantiene su MRU. <strong>Consejo:</strong> Si algo se para en la Tierra es por el <strong>rozamiento</strong> (esa fuerza 'invisible' que siempre va en contra). Newton dice que si no hay nada, no se para nunca." }
                        ],
                        result: "A:F | B:V | C:V | D:F", isOpen: false
                    },
                    {
                        number: "I.2", icon: "car", title: "Dinámica del Coche",
                        statement: "Coche de $1250 \\text{ kg}$, motor $6000 \\text{ N}$, rozamiento $1000 \\text{ N}$. Hallar la aceleración.",
                        logic: "La fuerza neta es la 'fuerza real' que queda para mover la masa tras pagar el 'impuesto' del rozamiento.",
                        steps: [
                            { title: "1. Balance Vectorial", content: "Restamos el rozamiento del empuje: $\\sum F = 6000 - 1000 = 5000 \\text{ N}$. <strong>Truco:</strong> Siempre resta las fuerzas que van hacia atrás de las que van hacia delante." },
                            { title: "2. La ley Maestra", content: "Usamos $a = \\frac{F}{m}$. $a = \\frac{5000}{1250} = 4 \\text{ m/s}^2$. <strong>Consejo:</strong> Si el resultado te da más de $10 \\text{ m/s}^2$ en un coche normal, ¡revisa los cálculos! Sería más rápido que la caída libre." }
                        ],
                        result: "$a = 4 \\text{ m/s}^2$", isOpen: false
                    },
                    {
                        number: "I.3", icon: "orbit", title: "Masa vs Peso en el Espacio",
                        statement: "Peso en la Tierra ($g=9.8 \\text{ m/s}^2$) es $800 \\text{ N}$. Hallar masa y peso en Júpiter ($g_J=25.1 \\text{ m/s}^2$).",
                        logic: "La masa es tu 'cantidad de átomos' (no cambia nunca). El peso es lo mucho que el suelo te 'muerde' los pies según el planeta.",
                        steps: [
                            { title: "1. La masa es Universal", content: "Calculamos la masa en la Tierra para usarla en cualquier sitio: $m = \\frac{800}{9.8} \\approx 81.63 \\text{ kg}$. <strong>Consejo:</strong> Nunca calcules el peso de Júpiter usando el peso de la Tierra directamente." },
                            { title: "2. Peso en Júpiter", content: "$P_J = 81.63 \\cdot 25.1 \\approx 2049 \\text{ N}$. <strong>Curiosidad:</strong> ¡En Júpiter pesarías más del doble! Te costaría mucho levantarte del suelo." }
                        ],
                        result: "$m \\approx 81.63 \\text{ kg} \\quad | \\quad P_J \\approx 2049 \\text{ N}$", isOpen: false
                    },
                    {
                        number: "I.4", icon: "zap", title: "Aceleración y Masa",
                        statement: "Un cuerpo aumenta su velocidad $1.8 \\text{ km/h}$ cada segundo con una fuerza de $600 \\text{ N}$. ¿Cuál es su masa?",
                        logic: "La aceleración es 'cuánta velocidad ganas cada segundo'. Primero hay que hablar en el idioma de la ciencia: metros y segundos.",
                        steps: [
                            { title: "1. Traducir a Unidades SI", content: "$1.8 \\text{ km/h} = \\frac{1.8}{3.6} = 0.5 \\text{ m/s}$. <strong>Truco:</strong> Para pasar de km/h a m/s, divide siempre por $3.6$." },
                            { title: "2. Despejar la Masa", content: "Si aumenta $0.5 \\text{ m/s}$ cada segundo, $a = 0.5 \\text{ m/s}^2$. Entonces $m = \\frac{600}{0.5} = 1200 \\text{ kg}$." }
                        ],
                        result: "$m = 1200 \\text{ kg}$", isOpen: false
                    },
                    {
                        number: "I.5", icon: "gauge", title: "Fricción Horizontal",
                        statement: "$3 \\text{ kg}$, fuerza $14 \\text{ N}$, $\\mu=0.1$. ¿Aceleración y velocidad tras $10 \\text{ s}$?",
                        logic: "El rozamiento es como un 'vampiro' de fuerza. Primero hay que calcular cuánto te quita antes de saber cuánto te queda para correr.",
                        steps: [
                            { title: "1. El 'mordisco' del roce", content: "Primero la Normal (en horizontal es el peso): $N = 3 \\cdot 9.8 = 29.4 \\text{ N}$. Luego $F_r = 0.1 \\cdot 29.4 = 2.94 \\text{ N}$." },
                            { title: "2. ¿Qué fuerza sobra?", content: "$F_{\\text{neta}} = 14 - 2.94 = 11.06 \\text{ N}$. La aceleración es $a = \\frac{11.06}{3} \\approx 3.69 \\text{ m/s}^2$." },
                            { title: "3. Sprint final", content: "$v = a \\cdot t = 3.69 \\cdot 10 = 36.9 \\text{ m/s}$. <strong>Consejo:</strong> El rozamiento siempre, SIEMPRE se opone al movimiento." }
                        ],
                        result: "$v = 36.9 \\text{ m/s}$", isOpen: false
                    },
                    {
                        number: "I.8", icon: "shield-alert", title: "Frenado por Roce",
                        statement: "$3 \\text{ kg}$ a $14 \\text{ m/s}$ se detiene en $10 \\text{ s}$. Hallar 'a' y $\\mu$.",
                        logic: "Si algo se para es porque hay una fuerza tirando hacia atrás. Aquí, esa fuerza es el roce del suelo.",
                        steps: [
                            { title: "1. El ritmo de frenado", content: "$a = \\frac{0 - 14}{10} = -1.4 \\text{ m/s}^2$. <strong>Truco:</strong> El signo negativo significa que estás perdiendo velocidad." },
                            { title: "2. Descubrir el suelo", content: "Como $-F_r = m \\cdot a$, tenemos que $\\mu \\cdot m \\cdot g = m \\cdot |a|$. La masa se tacha (¡da igual si es un elefante o una hormiga!). $\\mu = \\frac{1.4}{9.8} \\approx 0.143$." }
                        ],
                        result: "$\\mu \\approx 0.143$", isOpen: false
                    },
                    {
                        number: "I.11", icon: "anchor", title: "Máquina de Atwood Clásica",
                        statement: "Masas de $2 \\text{ kg}$ y $5 \\text{ kg}$ colgando de una polea ideal.",
                        logic: "Imagina que las masas son vagones de un tren unidos por una cuerda. El peso de la masa grande tira 'a favor' y el de la pequeña 'en contra'.",
                        steps: [
                            { title: "1. La batalla de pesos", content: "$F_{\\text{neta}} = P_2 - P_1 = 5 \\cdot 9.8 - 2 \\cdot 9.8 = 29.4 \\text{ N}$." },
                            { title: "2. Aceleración del 'tren'", content: "$a = \\frac{29.4}{5+2} = 4.2 \\text{ m/s}^2$. <strong>Truco:</strong> En una polea, la masa total es siempre la suma de ambas." },
                            { title: "3. La Tensión", content: "Analiza solo la de $2 \\text{ kg}$: $T - P = m \\cdot a \\rightarrow T = 2(9.8 + 4.2) = 28 \\text{ N}$. <strong>Consejo:</strong> La tensión debe estar entre el valor de los dos pesos." }
                        ],
                        result: "$a = 4.2 \\text{ m/s}^2 \\quad | \\quad T = 28 \\text{ N}$", isOpen: false
                    },
                    {
                        number: "I.12", icon: "anchor", title: "Atwood Ligera",
                        statement: "Masas de $0.7 \\text{ kg}$ y $0.15 \\text{ kg}$.",
                        logic: "Es el mismo problema que el anterior, pero con masas pequeñas. <strong>Consejo:</strong> Ten cuidado con los decimales, un error de un cero puede arruinar todo.",
                        steps: [
                            { title: "1. Aceleración", content: "$a = 9.8 \\cdot \\frac{0.7 - 0.15}{0.7 + 0.15} \\approx 6.34 \\text{ m/s}^2$." },
                            { title: "2. Tensión", content: "$T = 0.15 \\cdot (9.8 + 6.34) \\approx 2.42 \\text{ N}$. <strong>Truco:</strong> Si usas la masa que sube, sumas 'g+a'. Si usas la que baja, restas 'g-a'." }
                        ],
                        result: "$a = 6.34 \\text{ m/s}^2$", isOpen: false
                    },

                    { isSeparator: true, title: "BLOQUE II: Refuerzo y Sistemas de Elevación" },
                    {
                        number: "II.1", icon: "car-front", title: "Frenado de un Camión",
                        statement: "$2500 \\text{ kg}$ frena desde $70 \\text{ km/h}$ en $6 \\text{ s}$.",
                        logic: "Frenar una bestia de $2.5 \\text{ toneladas}$ requiere una fuerza brutal. Vamos a ver cuánta.",
                        steps: [
                            { title: "1. Velocidad", content: "$70 \\text{ km/h} \\approx 19.44 \\text{ m/s}$." },
                            { title: "2. El frenazo", content: "$a = \\frac{0 - 19.44}{6} = -3.24 \\text{ m/s}^2$. Luego $F = 2500 \\cdot (-3.24) = -8100 \\text{ N}$. <strong>Consejo:</strong> El signo menos solo indica que la fuerza va hacia atrás." }
                        ],
                        result: "$F = -8100 \\text{ N}$", isOpen: false
                    },
                    {
                        number: "II.4", icon: "help-circle", title: "Hallar el Rozamiento",
                        statement: "$50 \\text{ kg}$, fuerza $100 \\text{ N}$, aceleración $0.5 \\text{ m/s}^2$. ¿Cuánto vale $F_r$?",
                        logic: "Si empujas con $100 \\text{ N}$ pero el cuerpo solo acelera un poco, es que alguien te está robando fuerza por el camino. Ese 'ladrón' es el roce.",
                        steps: [
                            { title: "1. Fuerza 'Aprovechada'", content: "$F_{\\text{real}} = 50 \\cdot 0.5 = 25 \\text{ N}$." },
                            { title: "2. El 'robo'", content: "$100 - F_r = 25 \\rightarrow F_r = 75 \\text{ N}$. <strong>Consejo:</strong> En la vida real, casi toda la fuerza se pierde en rozamiento." }
                        ],
                        result: "$F_r = 75 \\text{ N}$", isOpen: false
                    },
                    {
                        number: "II.7", icon: "armchair", title: "Empujando un Sofá",
                        statement: "$80 \\text{ kg}$, empuje de $500 \\text{ N}$, $\\mu=0.5$. Hallar posición tras $3 \\text{ s}$.",
                        logic: "Con un roce tan alto, mover el sofá es un reto. <strong>Truco:</strong> Antes de calcular nada, comprueba si tu fuerza es mayor que el roce máximo.",
                        steps: [
                            { title: "1. El muro de fricción", content: "$F_r = 0.5 \\cdot 80 \\cdot 9.8 = 392 \\text{ N}$. Como empujas con $500 \\text{ N}$, ¡logras moverlo!" },
                            { title: "2. Movimiento", content: "$a = \\frac{500 - 392}{80} = 1.35 \\text{ m/s}^2$. $s = 0.5 \\cdot 1.35 \\cdot 3^2 = 6.075 \\text{ m}$." }
                        ],
                        result: "$s = 6.075 \\text{ m}$", isOpen: false
                    },
                    {
                        number: "II.9", icon: "layers", title: "Dinamómetro en el Ascensor",
                        statement: "Cuerpo de $1 \\text{ kg}$. Hallar la tensión si: A) Sube $a=1$, B) Baja $a=1$, C) Baja velocidad constante.",
                        logic: "Un dinamómetro mide cuánto 'tira' el cable. <strong>Truco:</strong> Piensa en lo que sienten tus rodillas. Si el ascensor sube de golpe, te sientes más pesado.",
                        steps: [
                            { title: "A) Subidón", content: "$T = 1(9.8 + 1) = 10.8 \\text{ N}$. El cable tiene que tirar de ti Y de tu inercia." },
                            { title: "B) Bajón", content: "$T = 1(9.8 - 1) = 8.8 \\text{ N}$. El ascensor 'se cae' un poco contigo, aligerando el cable." },
                            { title: "C) Paz total", content: "$T = 1 \\cdot 9.8 = 9.8 \\text{ N}$. Si no hay aceleración, el cable solo soporta tu peso real." }
                        ],
                        result: "$T_A=10.8 \\text{ N} | T_B=8.8 \\text{ N} | T_C=9.8 \\text{ N}$", isOpen: false
                    },
                    {
                        number: "II.10", icon: "building", title: "Grúa Industrial",
                        statement: "$350 \\text{ kg}$ subiendo y bajando.",
                        logic: "Es lo mismo que el ascensor pero con un bloque de cemento. <strong>Consejo:</strong> En ingeniería, estos cálculos son vitales para que el cable no se rompa.",
                        steps: [
                            { title: "Cálculos Rápidos", content: "Subiendo: $350(9.8+0.8) = 3710 \\text{ N}$. Bajando: $350(9.8-0.8) = 3150 \\text{ N}$. <strong>Truco:</strong> Siempre que subas acelerando, el cable sufre más." }
                        ],
                        result: "$T_{\\text{sube}} = 3710 \\text{ N}$", isOpen: false
                    },

                    { isSeparator: true, title: "BLOQUE III: Planos Inclinados (Hoja III Detallada)" },
                    {
                        number: "III.2", icon: "mountain", title: "Plano Inclinado Sin Roce",
                        statement: "Bloque de $10 \\text{ kg}$ rampa $30^\\circ$. Hallar aceleración.",
                        logic: "En una rampa, la gravedad se divide en dos. Una parte te pega al suelo ($P_y$) y otra te hace deslizar ($P_x$).",
                        steps: [
                            { title: "1. La componente motriz", content: "$P_x = m \\cdot g \\cdot \\sin(30^\\circ) = 10 \\cdot 9.8 \\cdot 0.5 = 49 \\text{ N}$. <strong>Mnemotecnia:</strong> El 'SENO' te hace deslizar por la 'SENDA'." },
                            { title: "2. Aceleración", content: "$a = \\frac{49}{10} = 4.9 \\text{ m/s}^2$. <strong>Curiosidad:</strong> ¡Da igual la masa! Un camión y una canica bajan una rampa de hielo con la misma aceleración." }
                        ],
                        result: "$a = 4.9 \\text{ m/s}^2$", isOpen: false
                    },
                    {
                        number: "III.6", icon: "package", title: "Caja Pequeña con Roce",
                        statement: "$200 \\text{ g}$ con fuerza de $4 \\text{ N}$ y $\\mu=0.15$.",
                        logic: "¡Cuidado! La masa está en gramos. <strong>Consejo:</strong> Pásalo a kg inmediatamente ($0.2 \\text{ kg}$) o todo el ejercicio estará mal.",
                        steps: [
                            { title: "1. Dinámica", content: "$F_r = 0.15 \\cdot 0.2 \\cdot 9.8 = 0.294 \\text{ N}$. $a = \\frac{4 - 0.294}{0.2} = 18.53 \\text{ m/s}^2$." },
                            { title: "2. Espacio", content: "$s = 0.5 \\cdot 18.53 \\cdot 3^2 = 83.39 \\text{ m}$. ¡Es una aceleración enorme porque la caja pesa muy poco!" }
                        ],
                        result: "$a = 18.53 \\text{ m/s}^2$", isOpen: false
                    },
                    {
                        number: "III.7", icon: "mountain", title: "Rampa Real con Roce",
                        statement: "Bloque $5 \\text{ kg}$, rampa $30^\\circ$, $\\mu=0.2$. Hallar aceleración.",
                        logic: "Este es el ejercicio 'jefe' de 4º ESO. Combina rampa y rozamiento. Es una batalla entre el peso que quiere bajar y el roce que quiere frenar.",
                        steps: [
                            { title: "1. Descomponer", content: "$P_x = 24.5 \\text{ N}$ (baja), $P_y = 42.4 \\text{ N}$ (aprieta)." },
                            { title: "2. Rozamiento", content: "$F_r = 0.2 \\cdot 42.4 = 8.48 \\text{ N}$. <strong>Truco:</strong> En una rampa, el roce usa el COSENO porque depende de cuánto te aprietas contra el suelo." },
                            { title: "3. Final", content: "$a = \\frac{24.5 - 8.48}{5} \\approx 3.2 \\text{ m/s}^2$." }
                        ],
                        result: "$a \\approx 3.2 \\text{ m/s}^2$", isOpen: false
                    },
                    {
                        number: "III.9b", icon: "baseball", title: "Frenado de Pelota",
                        statement: "Pelota de $0.5 \\text{ kg}$ frena desde $80 \\text{ km/h}$ en $8 \\text{ s}$.",
                        logic: "Aunque sea una pelota ligera, a esa velocidad tiene mucha energía. Vamos a ver qué fuerza hace el aire o el suelo para pararla.",
                        steps: [
                            { title: "Resolución", content: "$a = -2.78 \\text{ m/s}^2$. $F = 0.5 \\cdot (-2.78) = -1.39 \\text{ N}$. <strong>Consejo:</strong> Una fuerza de solo $1.4 \\text{ N}$ es suficiente porque la masa es muy pequeña." }
                        ],
                        result: "$F = -1.39 \\text{ N}$", isOpen: false
                    }
                ]);

                // Sincronización MathJax 3 con Vue
                const refreshMath = () => {
                    nextTick(() => {
                        if (window.MathJax && window.MathJax.typesetPromise) {
                            window.MathJax.typesetPromise().catch((err) => console.log(err));
                        }
                        if (window.lucide) {
                            window.lucide.createIcons();
                        }
                    });
                };

                const toggle = (ex) => {
                    ex.isOpen = !ex.isOpen;
                    if (ex.isOpen) refreshMath();
                };

                return { exercises, toggle, refreshMath };
            },
            mounted() {
                // Pequeño delay para asegurar que MathJax esté listo
                setTimeout(() => {
                    this.refreshMath();
                }, 1000);
            }
        }).mount('#app');
    </script>
</body>
</html>