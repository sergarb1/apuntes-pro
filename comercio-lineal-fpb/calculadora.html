<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profit Pro Elite | Calculadora de Rentabilidad Retail</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #f1f5f9; color: #0f172a; }
        .glass-dark { background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .input-card { background: white; border: 2px solid #e2e8f0; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .input-card:focus-within { border-color: #2563eb; box-shadow: 0 20px 40px rgba(37, 99, 235, 0.1); transform: translateY(-2px); }
        .logic-step { border-left: 3px solid #cbd5e1; padding-left: 20px; position: relative; }
        .logic-step::before { content: ''; width: 14px; height: 14px; background: #2563eb; border-radius: 50%; position: absolute; left: -9px; top: 4px; border: 3px solid #f1f5f9; }
        .purpose-card { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); }
    </style>
</head>
<body class="p-4 md:p-12 lg:p-20">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="mb-16 flex flex-col md:flex-row justify-between items-center gap-8">
            <div class="flex items-center gap-6">
                <a href="index.html" class="w-14 h-14 bg-white rounded-3xl flex items-center justify-center shadow-sm border border-slate-200 hover:bg-slate-50 transition-all hover:rotate-[-5deg]">
                    <i data-lucide="arrow-left" class="w-7 h-7 text-slate-600"></i>
                </a>
                <div>
                    <h1 class="text-5xl font-black tracking-tighter font-display uppercase italic">Profit <span class="text-blue-600">Pro Elite</span></h1>
                    <p class="text-slate-400 font-medium uppercase tracking-widest text-[10px] mt-1">Simulador de Inteligencia de Negocio</p>
                </div>
            </div>
            <div class="hidden lg:flex items-center gap-4 bg-white px-8 py-4 rounded-full border border-slate-200 shadow-sm">
                <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                <span class="text-xs font-black uppercase tracking-widest text-slate-500">Sistema Operativo Retail v2.0</span>
            </div>
        </header>

        <!-- PURPOSE SECTION (NEW) -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-12">
            <div class="lg:col-span-12 purpose-card rounded-[3rem] p-10 md:p-16 text-white relative overflow-hidden shadow-2xl">
                <div class="absolute top-0 right-0 p-16 opacity-5 rotate-12">
                    <i data-lucide="trending-up" class="w-96 h-96"></i>
                </div>
                <div class="relative z-10 flex flex-col md:flex-row gap-12 items-center">
                    <div class="w-24 h-24 bg-blue-600 rounded-[2rem] flex items-center justify-center shrink-0 shadow-2xl shadow-blue-500/40">
                        <i data-lucide="target" class="w-12 h-12"></i>
                    </div>
                    <div>
                        <h2 class="text-3xl md:text-4xl font-black uppercase tracking-tighter italic mb-6">¿Para qué sirve esta calculadora?</h2>
                        <p class="text-slate-300 text-lg md:text-xl leading-relaxed font-light max-w-4xl">
                            Como gestor de un punto de venta, tu misión no es solo "vender", sino <strong class="text-white font-bold italic">vender con rentabilidad</strong>. Esta herramienta te permite analizar si un producto merece un lugar privilegiado en el lineal (Nivel de los Ojos) o si debe usarse como "gancho" para atraer clientes aunque deje poco beneficio directo.
                        </p>
                        <div class="mt-10 flex flex-wrap gap-4">
                            <span class="bg-white/10 px-4 py-2 rounded-xl text-xs font-bold border border-white/10 uppercase tracking-widest">Optimizar el Lineal</span>
                            <span class="bg-white/10 px-4 py-2 rounded-xl text-xs font-bold border border-white/10 uppercase tracking-widest">Detectar Productos Estrella</span>
                            <span class="bg-white/10 px-4 py-2 rounded-xl text-xs font-bold border border-white/10 uppercase tracking-widest">Calcular Margen Real</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            
            <!-- PANEL DE ENTRADA -->
            <div class="space-y-8">
                <div class="bg-white rounded-[4rem] p-10 md:p-16 shadow-[0_40px_100px_rgba(0,0,0,0.05)] border border-white relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-purple-600"></div>
                    <h2 class="text-2xl font-black mb-12 flex items-center gap-3 italic uppercase tracking-tighter">
                        <i data-lucide="database" class="text-blue-600"></i> Entrada de Datos
                    </h2>
                    
                    <div class="grid grid-cols-1 gap-8">
                        <div class="input-card rounded-[2rem] p-8">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3">Nombre del Producto</label>
                            <input type="text" id="p-name" placeholder="Ej: Zapatillas Urban X" class="w-full bg-transparent border-none outline-none font-bold text-2xl placeholder:opacity-20 text-slate-800">
                        </div>

                        <div class="grid grid-cols-2 gap-6">
                            <div class="input-card rounded-[2rem] p-8">
                                <label class="block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3">P. Compra (€)</label>
                                <input type="number" id="p-cost" placeholder="0.00" class="w-full bg-transparent border-none outline-none font-bold text-2xl text-slate-800">
                            </div>
                            <div class="input-card rounded-[2rem] p-8">
                                <label class="block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3">P. Venta (€)</label>
                                <input type="number" id="p-price" placeholder="0.00" class="w-full bg-transparent border-none outline-none font-bold text-2xl text-slate-800">
                            </div>
                        </div>

                        <div class="input-card rounded-[2rem] p-8">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3">Ventas Estimadas (Mensual)</label>
                            <input type="number" id="p-units" placeholder="100" class="w-full bg-transparent border-none outline-none font-bold text-2xl text-slate-800">
                        </div>

                        <button onclick="calculate()" class="w-full bg-slate-900 text-white py-8 rounded-[2.5rem] font-black uppercase tracking-[0.3em] text-xs hover:bg-blue-600 transition-all shadow-2xl flex items-center justify-center gap-4 group">
                            <i data-lucide="cpu" class="group-hover:rotate-90 transition-transform"></i> Ejecutar Algoritmo Comercial
                        </button>
                    </div>
                </div>

                <!-- EXPLICACIÓN DE CÁLCULOS -->
                <div class="bg-white rounded-[4rem] p-12 text-slate-800 shadow-xl border border-slate-100 relative overflow-hidden">
                    <div class="absolute -right-10 -bottom-10 opacity-5"><i data-lucide="book-open" class="w-64 h-64"></i></div>
                    <h3 class="text-sm font-black uppercase tracking-[0.4em] text-blue-600 mb-10 italic">Lógica Operativa</h3>
                    <div class="space-y-10">
                        <div class="logic-step">
                            <h4 class="font-black text-slate-900 text-sm uppercase italic">1. Margen Unitario (€)</h4>
                            <p class="text-sm text-slate-500 mt-2 leading-relaxed">Representa el beneficio bruto que se queda la tienda por cada unidad vendida.<br><span class="inline-block mt-2 bg-blue-50 text-blue-600 px-3 py-1 rounded-lg font-bold text-xs">Venta - Coste</span></p>
                        </div>
                        <div class="logic-step">
                            <h4 class="font-black text-slate-900 text-sm uppercase italic">2. Rentabilidad (%)</h4>
                            <p class="text-sm text-slate-500 mt-2 leading-relaxed">Es el peso del beneficio sobre el precio de venta. Indica qué porcentaje del dinero cobrado es "limpio".<br><span class="inline-block mt-2 bg-purple-50 text-purple-600 px-3 py-1 rounded-lg font-bold text-xs">(Margen / Venta) x 100</span></p>
                        </div>
                        <div class="logic-step">
                            <h4 class="font-black text-slate-900 text-sm uppercase italic">3. Beneficio Neto Total</h4>
                            <p class="text-sm text-slate-500 mt-2 leading-relaxed">El dinero real que entra en la caja al final del periodo analizado.<br><span class="inline-block mt-2 bg-emerald-50 text-emerald-600 px-3 py-1 rounded-lg font-bold text-xs">Margen x Unidades</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PANEL DE RESULTADOS (STICKY) -->
            <div id="result-panel" class="hidden sticky top-12">
                <div class="bg-slate-900 rounded-[4rem] p-10 md:p-16 text-white shadow-[0_50px_100px_rgba(37,99,235,0.2)] border-4 border-blue-600">
                    <div class="text-center mb-16">
                        <div id="res-badge" class="inline-block px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.4em] mb-6 shadow-xl">Auditoría Finalizada</div>
                        <h2 id="res-title" class="text-4xl md:text-5xl font-black tracking-tighter italic uppercase underline decoration-blue-500 decoration-8">Zapatillas Urban</h2>
                    </div>

                    <div class="space-y-10 mb-16">
                        <div class="flex justify-between items-center border-b border-white/10 pb-6">
                            <span class="text-xs font-black text-slate-500 uppercase tracking-widest">Margen por unidad</span>
                            <span id="res-margin" class="text-4xl font-black tabular-nums text-white">0.00€</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-white/10 pb-6">
                            <span class="text-xs font-black text-slate-500 uppercase tracking-widest">Eficiencia (%)</span>
                            <span id="res-percent" class="text-4xl font-black text-blue-400 tabular-nums">0%</span>
                        </div>
                        <div class="bg-white/5 p-10 rounded-[3rem] text-center border border-white/10 relative overflow-hidden">
                            <div class="absolute -bottom-4 -right-4 opacity-10"><i data-lucide="piggy-bank" class="w-32 h-32 text-emerald-400"></i></div>
                            <span class="text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] block mb-4 italic">Beneficio Total Proyectado</span>
                            <span id="res-total" class="text-7xl md:text-8xl font-black tabular-nums tracking-tighter text-emerald-400">0.00€</span>
                        </div>
                    </div>

                    <div id="res-advice" class="p-10 rounded-[3rem] text-lg font-medium leading-relaxed flex gap-6 items-start relative overflow-hidden">
                        <div class="w-12 h-12 rounded-2xl bg-white/20 flex items-center justify-center shrink-0">
                            <i data-lucide="sparkles" class="text-white"></i>
                        </div>
                        <span id="res-advice-text">Análisis en curso...</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        lucide.createIcons();

        function calculate() {
            const name = document.getElementById('p-name').value || 'Producto Analizado';
            const cost = parseFloat(document.getElementById('p-cost').value);
            const price = parseFloat(document.getElementById('p-price').value);
            const units = parseInt(document.getElementById('p-units').value);

            if (isNaN(cost) || isNaN(price) || isNaN(units)) {
                alert('⚠️ Sistema: Datos incompletos. Introduce valores numéricos válidos.');
                return;
            }

            const margin = price - cost;
            const percent = (margin / price) * 100;
            const total = margin * units;

            // Update UI
            document.getElementById('res-title').innerText = name;
            document.getElementById('res-margin').innerText = margin.toFixed(2) + '€';
            document.getElementById('res-percent').innerText = Math.round(percent) + '%';
            document.getElementById('res-total').innerText = total.toLocaleString('es-ES', { minimumFractionDigits: 2 }) + '€';

            const panel = document.getElementById('result-panel');
            const badge = document.getElementById('res-badge');
            const advice = document.getElementById('res-advice');
            const adviceText = document.getElementById('res-advice-text');

            panel.classList.remove('hidden');

            if (percent > 40) {
                badge.className = 'inline-block px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.4em] mb-6 bg-emerald-500 text-black shadow-lg shadow-emerald-500/30';
                advice.className = 'p-10 rounded-[3rem] bg-emerald-500 text-black text-lg font-medium leading-relaxed flex gap-6 items-start relative overflow-hidden shadow-2xl';
                adviceText.innerHTML = '<strong>ESTRATEGIA ELITE:</strong> Este producto es una "Mina de Oro". Su rentabilidad es altísima. Debe ocupar el <strong>Nivel de los Ojos</strong> en una <strong>Zona Caliente</strong>. ¡Protégelo de roturas de stock!';
            } else if (percent > 20) {
                badge.className = 'inline-block px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.4em] mb-6 bg-blue-500 text-white shadow-lg shadow-blue-500/30';
                advice.className = 'p-10 rounded-[3rem] bg-blue-600 text-white text-lg font-medium leading-relaxed flex gap-6 items-start relative overflow-hidden shadow-2xl';
                adviceText.innerHTML = '<strong>ESTRATEGIA ESTÁNDAR:</strong> Rendimiento equilibrado. Es el "Caballo de Batalla" de tu sección. Colócalo en el <strong>Nivel de las Manos</strong> para facilitar su rotación diaria.';
            } else {
                badge.className = 'inline-block px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.4em] mb-6 bg-orange-500 text-black shadow-lg shadow-orange-500/30';
                advice.className = 'p-10 rounded-[3rem] bg-orange-500 text-black text-lg font-medium leading-relaxed flex gap-6 items-start relative overflow-hidden shadow-2xl';
                adviceText.innerHTML = '<strong>ESTRATEGIA GANCHO:</strong> Margen bajo pero necesario. Úsalo para atraer tráfico situándolo en <strong>Zonas Frías</strong> o en el <strong>Nivel del Suelo</strong>. No malgastes espacio premium con él.';
            }
            
            lucide.createIcons();
            panel.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>